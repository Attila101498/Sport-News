"use strict";(self.webpackChunksport_news=self.webpackChunksport_news||[]).push([[819],{3819:(E,c,i)=>{i.r(c),i.d(c,{UserModule:()=>y});var d=i(4755),n=i(5030),a=i(7986),f=i(590),t=i(1902),l=i(8577);function p(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"First Name is required"),t.qZA())}function g(e,o){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,p,2,0,"div",19),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.f.firstName.errors.required)}}function v(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Last Name is required"),t.qZA())}function _(e,o){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,v,2,0,"div",19),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.f.lastName.errors.required)}}function h(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Userame is required"),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,h,2,0,"div",19),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.f.username.errors.required)}}function Z(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Password must be at least 6 characters"),t.qZA())}function x(e,o){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,Z,2,0,"div",19),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.f.password.errors.minlength)}}function C(e,o){1&e&&t._UZ(0,"span",20)}const m=function(e){return{"is-invalid":e}};function N(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){t.CHM(r);const u=t.oxw();return t.KtG(u.onSubmit())}),t.TgZ(1,"div",3)(2,"div",4)(3,"label",5),t._uU(4,"First Name"),t.qZA(),t._UZ(5,"input",6),t.YNc(6,g,2,1,"div",7),t.qZA(),t.TgZ(7,"div",4)(8,"label",8),t._uU(9,"Last Name"),t.qZA(),t._UZ(10,"input",9),t.YNc(11,_,2,1,"div",7),t.qZA()(),t.TgZ(12,"div",3)(13,"div",4)(14,"label",10),t._uU(15,"Username"),t.qZA(),t._UZ(16,"input",11),t.YNc(17,b,2,1,"div",7),t.qZA(),t.TgZ(18,"div",4)(19,"label",12),t._uU(20," Password "),t.TgZ(21,"em"),t._uU(22,"(Leave blank to keep the same password)"),t.qZA()(),t._UZ(23,"input",13),t.YNc(24,x,2,1,"div",7),t.qZA(),t.TgZ(25,"div",14)(26,"button",15),t.YNc(27,C,1,0,"span",16),t._uU(28," Save "),t.qZA(),t.TgZ(29,"a",17),t._uU(30,"Cancel"),t.qZA()()()()}if(2&e){const r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("ngClass",t.VKq(11,m,r.submitted&&r.f.firstName.errors)),t.xp6(1),t.Q6J("ngIf",r.submitted&&r.f.firstName.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(13,m,r.submitted&&r.f.lastName.errors)),t.xp6(1),t.Q6J("ngIf",r.submitted&&r.f.lastName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(15,m,r.submitted&&r.f.username.errors)),t.xp6(1),t.Q6J("ngIf",r.submitted&&r.f.username.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(17,m,r.submitted&&r.f.password.errors)),t.xp6(1),t.Q6J("ngIf",r.submitted&&r.f.password.errors),t.xp6(2),t.Q6J("disabled",r.submitting),t.xp6(1),t.Q6J("ngIf",r.submitting)}}function T(e,o){1&e&&(t.TgZ(0,"div",21),t._UZ(1,"span",22),t.qZA())}let U=(()=>{class e{constructor(r,s,u,w,Y){this.formBuilder=r,this.route=s,this.router=u,this.accountService=w,this.alertService=Y,this.loading=!1,this.submitting=!1,this.submitted=!1,this.user=this.accountService.userValue}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({firstName:["",n.kI.required],lastName:["",n.kI.required],username:["",n.kI.required],password:["",[n.kI.minLength(6),...this.id?[]:[n.kI.required]]]}),this.id&&(this.loading=!0,this.accountService.getById(this.id).pipe((0,f.P)()).subscribe(r=>{this.form.patchValue(r),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.accountService.update(this.id,this.form.value).pipe((0,f.P)()).subscribe({next:()=>{this.alertService.success("User saved",{keepAfterRouteChange:!0}),this.router.navigateByUrl("/user/dashboard")},error:r=>{this.alertService.error(r),this.submitting=!1}}))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(n.qu),t.Y36(a.gz),t.Y36(a.F0),t.Y36(l.BR),t.Y36(l.c9))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit"]],decls:6,vars:3,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],["class","test-center m-5",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col","mb-3"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","id","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control",3,"ngClass"],["for","username",1,"form-label"],["type","text","formControlName","username","id","username",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password","placeholder","******",1,"form-control",3,"ngClass"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/dashboard",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"test-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(r,s){1&r&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"p"),t._uU(3," You can change your data on this page.\n"),t.qZA(),t.YNc(4,N,31,19,"form",0),t.YNc(5,T,2,0,"div",1)),2&r&&(t.xp6(1),t.hij("",s.user.username,"'s data"),t.xp6(3),t.Q6J("ngIf",!s.loading),t.xp6(1),t.Q6J("ngIf",s.loading))},dependencies:[d.mk,d.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,a.rH],encapsulation:2}),e})();const I=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"container","mt-4"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[a.lC],encapsulation:2}),e})(),children:[{path:"dashboard",component:i(4034).M},{path:"edit/:id",component:U}]}];let J=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(I),a.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,n.UX,J]}),e})()}}]);