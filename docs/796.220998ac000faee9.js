"use strict";(self.webpackChunksport_news=self.webpackChunksport_news||[]).push([[796],{4796:(k,g,c)=>{c.r(g),c.d(g,{ArticleModule:()=>L});var l=c(4755),o=c(5030),d=c(7986),t=c(1902);let v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"container","mt-4"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[d.lC],encapsulation:2}),n})();var u=c(590),a=c(8577);function b(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Url is required"),t.qZA())}function x(n,i){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,b,2,0,"div",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.url.errors.required)}}function h(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Type is required"),t.qZA())}function Z(n,i){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,h,2,0,"div",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.type.errors.required)}}function A(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Text is required"),t.qZA())}function C(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Text must be at least 10 characters"),t.qZA())}function T(n,i){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,A,2,0,"div",22),t.YNc(2,C,2,0,"div",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.text.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.text.errors.minlength)}}function q(n,i){1&n&&t._UZ(0,"span",23)}const p=function(n){return{"is-invalid":n}};function y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t.TgZ(1,"div",3)(2,"div",4)(3,"label",5),t._uU(4,"Url"),t.qZA(),t._UZ(5,"input",6),t.YNc(6,x,2,1,"div",7),t.qZA(),t.TgZ(7,"div",8)(8,"label",9),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"select",10)(11,"option",11),t._uU(12,"-- Select --"),t.qZA(),t.TgZ(13,"option",12),t._uU(14,"Football"),t.qZA(),t.TgZ(15,"option",13),t._uU(16,"Rugby"),t.qZA(),t.TgZ(17,"option",14),t._uU(18,"Basketball"),t.qZA()(),t.YNc(19,Z,2,1,"div",7),t.qZA()(),t.TgZ(20,"div",3)(21,"div",15)(22,"label",16),t._uU(23,"Text"),t.qZA(),t._UZ(24,"textarea",17),t.YNc(25,T,3,2,"div",7),t.qZA(),t.TgZ(26,"div",15)(27,"button",18),t.YNc(28,q,1,0,"span",19),t._uU(29," Save "),t.qZA(),t.TgZ(30,"a",20),t._uU(31,"Cancel"),t.qZA()()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngClass",t.VKq(9,p,e.submitted&&e.f.url.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.url.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(11,p,e.submitted&&e.f.type.errors)),t.xp6(9),t.Q6J("ngIf",e.submitted&&e.f.type.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(13,p,e.submitted&&e.f.text.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.text.errors),t.xp6(2),t.Q6J("disabled",e.submitting),t.xp6(1),t.Q6J("ngIf",e.submitting)}}function U(n,i){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"span",25),t.qZA())}let _=(()=>{class n{constructor(e,r,s,m,f){this.formBuilder=e,this.route=r,this.router=s,this.articleService=m,this.alertService=f,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({url:["",o.kI.required],type:["",o.kI.required],text:["",[o.kI.required,o.kI.minLength(10)]]}),this.title="Add Article",this.id&&(this.title="Edit Article",this.loading=!0,this.articleService.getById(this.id).pipe((0,u.P)()).subscribe(e=>{this.form.patchValue(e),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveArticle().pipe((0,u.P)()).subscribe({next:()=>{this.alertService.success("Article saved",{keepAfterRouteChange:!0}),this.router.navigateByUrl("/articles")},error:e=>{this.alertService.error(e),this.submitting=!1}}))}saveArticle(){return this.id?this.articleService.update(this.id,this.form.value):this.articleService.add(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.qu),t.Y36(d.gz),t.Y36(d.F0),t.Y36(a.n5),t.Y36(a.c9))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","mb-3"],["for","url",1,"form-label"],["type","text","formControlName","url","id","url",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-3"],["for","type",1,"form-label"],["formControlName","type","id","type",1,"form-select",3,"ngClass"],["selected","","disabled","","value",""],["value","football"],["value","rugby"],["value","basketball"],[1,"mb-3"],["for","text",1,"form-label"],["formControlName","text","id","text",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/articles",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,r){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.YNc(2,y,32,15,"form",0),t.YNc(3,U,2,0,"div",1)),2&e&&(t.xp6(1),t.Oqu(r.title),t.xp6(1),t.Q6J("ngIf",!r.loading),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[l.mk,l.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,d.rH],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),n})();function S(n,i){1&n&&t._UZ(0,"span",19)}function I(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Delete"),t.qZA())}function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"strong"),t._uU(4),t.qZA()(),t.TgZ(5,"div",9),t._UZ(6,"img",10),t.TgZ(7,"blockquote"),t._uU(8),t.qZA(),t.TgZ(9,"p",11),t._uU(10),t.qZA()(),t.TgZ(11,"div",12)(12,"div")(13,"a",13),t._uU(14," Test URL "),t.qZA()(),t.TgZ(15,"div",14)(16,"a",15),t._uU(17," Edit "),t.qZA(),t.TgZ(18,"button",16),t.NdJ("click",function(){const m=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.deleteArticle(m.id))}),t.YNc(19,S,1,0,"span",17),t.YNc(20,I,2,0,"span",18),t.qZA()()()()()}if(2&n){const e=i.$implicit;t.xp6(4),t.Oqu(e.type),t.xp6(2),t.MGl("src","./assets/img/",e.type,".jpg",t.LSH),t.s9C("alt",e.type),t.xp6(2),t.Oqu(e.username),t.xp6(2),t.Oqu(e.text),t.xp6(3),t.s9C("href",e.url,t.LSH),t.xp6(3),t.MGl("routerLink","edit/",e.id,""),t.xp6(2),t.Q6J("disabled",e.isDeleting),t.xp6(1),t.Q6J("ngIf",e.isDeleting),t.xp6(1),t.Q6J("ngIf",!e.isDeleting)}}function M(n,i){1&n&&(t.TgZ(0,"div",3)(1,"div",20),t._UZ(2,"span",21),t.qZA()())}const O=[{path:"",component:v,children:[{path:"",component:(()=>{class n{constructor(e,r,s){this.articleService=e,this.accountService=r,this.alertService=s,this.user=this.accountService.userValue}ngOnInit(){this.articleService.getUserArticle().pipe((0,u.P)()).subscribe(e=>this.articles=e.slice().reverse())}deleteArticle(e){const r=this.articles.find(s=>s.id===e);confirm("Are you sure you want to delete this article?")&&(r.isDeleting=this.articleService.delete(e).pipe((0,u.P)()).subscribe({next:()=>{this.alertService.clear(),this.articles=this.articles.filter(s=>s.id!==e),this.alertService.success("Article deleted",{keepAfterRouteChange:!0})},error:s=>{this.alertService.error(s)}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.n5),t.Y36(a.BR),t.Y36(a.c9))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:14,vars:3,consts:[["routerLink","add","id","admin",1,"btn","btn-primary","btn-sm","mb-2"],[1,"mt-5"],[1,"container"],[1,"row","justify-content-center","mt-3"],["class","col-sm-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],["class","row justify-content-center mt-3",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"card","h-100"],[1,"tag"],[1,"card-body"],[1,"img-fluid",3,"src","alt"],[1,"card-title"],[1,"card-footer"],["target","_blank",1,"btn","btn-primary",3,"href"],["id","secondDiv"],[1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm"],[1,"col","text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,r){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Add Articles"),t.qZA(),t.TgZ(2,"p"),t._uU(3," With the button, you can add new articles.\n"),t.qZA(),t.TgZ(4,"a",0),t._uU(5,"Add Articles"),t.qZA(),t.TgZ(6,"h1",1),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9," With the buttons you can edit or delete existing articles.\n"),t.qZA(),t.TgZ(10,"div",2)(11,"div",3),t.YNc(12,J,21,10,"div",4),t.qZA(),t.YNc(13,M,3,0,"div",5),t.qZA()),2&e&&(t.xp6(7),t.hij("",r.user.username,"'s Articles"),t.xp6(5),t.Q6J("ngForOf",r.articles),t.xp6(1),t.Q6J("ngIf",!r.articles))},dependencies:[l.sg,l.O5,d.rH],styles:[".col-sm-12.col-md-6.col-lg-4[_ngcontent-%COMP%]{margin-top:6px;margin-bottom:12px}.card[_ngcontent-%COMP%]{box-shadow:none;border-radius:5px}.card[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{text-transform:uppercase;background:#0d6efd;position:absolute;left:-1px;top:1.8rem;padding:.3rem 1.2rem;z-index:1}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:0}.card-body[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:20px 0 0;padding-left:1.5rem;border-left:5px solid #0d6efd}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{padding-top:15px;font-size:16px}.card-footer[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]{margin-right:10px}.card-footer[_ngcontent-%COMP%]{display:flex}.card-footer[_ngcontent-%COMP%]   #secondDiv[_ngcontent-%COMP%]{margin-left:auto}"]}),n})()},{path:"add",component:_},{path:"edit/:id",component:_}]}];let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(O),d.Bz]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,o.UX,Y]}),n})()}}]);